# ============================================================
# CONFIGURACIÓN DE STRIPE
# ============================================================
# Instrucciones:
# 1. Copia este archivo a .env.stripe
# 2. Rellena las claves con tus datos reales de Stripe
# 3. NO SUBAS .env.stripe a git (ya está en .gitignore)

# Clave secreta de Stripe (empieza con sk_test_ o sk_live_)
# Dashboard: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_51...

# Clave secreta para webhook signatures
# Dashboard: https://dashboard.stripe.com/webhooks
# IMPORTANTE: Esta clave te la da Stripe al crear el webhook endpoint
STRIPE_WEBHOOK_SECRET=whsec_...

# ============================================================
# PRICE IDs de Stripe (Productos creados en el dashboard)
# ============================================================
# Dashboard: https://dashboard.stripe.com/products

# CANDIDATO_PREMIUM - $19.99/mes
STRIPE_PRICE_CANDIDATO_PREMIUM_MONTHLY=price_...

# CANDIDATO_PREMIUM - $199.90/año
STRIPE_PRICE_CANDIDATO_PREMIUM_YEARLY=price_...

# HR_PRO_PLAN - $99.99/mes
STRIPE_PRICE_HR_PRO_MONTHLY=price_...

# HR_PRO_PLAN - $999.90/año
STRIPE_PRICE_HR_PRO_YEARLY=price_...

# ============================================================
# PRODUCT IDs para créditos API (one-time payments)
# ============================================================

# 100 créditos - $9.99
STRIPE_PRODUCT_CREDITS_100=prod_...

# 500 créditos - $39.99
STRIPE_PRODUCT_CREDITS_500=prod_...

# 1000 créditos - $69.99
STRIPE_PRODUCT_CREDITS_1000=prod_...

# 5000 créditos - $299.99
STRIPE_PRODUCT_CREDITS_5000=prod_...

# ============================================================
# URLS DE REDIRECCIÓN
# ============================================================

# URL base de tu aplicación
APP_BASE_URL=http://localhost:3000

# URL de éxito después del checkout
STRIPE_SUCCESS_URL=${APP_BASE_URL}/billing/success?session_id={CHECKOUT_SESSION_ID}

# URL de cancelación
STRIPE_CANCEL_URL=${APP_BASE_URL}/pricing

# ============================================================
# CONFIGURACIÓN DE WEBHOOKS
# ============================================================

# URL pública del webhook (para producción)
# Ejemplo con ngrok: https://xxxxx.ngrok.io/webhooks/stripe
STRIPE_WEBHOOK_URL=https://tu-dominio.com/webhooks/stripe

# ============================================================
# NOTAS DE CONFIGURACIÓN
# ============================================================
#
# Cómo crear productos en Stripe:
#
# 1. Ve a https://dashboard.stripe.com/products
# 2. Click en "Add product"
# 3. Para SUSCRIPCIONES:
#    - Name: "Candidato Premium"
#    - Pricing: Recurring, Monthly, $19.99 USD
#    - Click "Add pricing" para agregar precio anual ($199.90 USD)
#    - Copia los Price IDs
# 4. Para CRÉDITOS API:
#    - Name: "100 API Credits"
#    - Pricing: One-time, $9.99 USD
#    - Copia el Product ID
#
# Cómo configurar webhooks:
#
# 1. Ve a https://dashboard.stripe.com/webhooks
# 2. Click en "Add endpoint"
# 3. URL: https://tu-dominio.com/webhooks/stripe
# 4. Eventos a escuchar:
#    - checkout.session.completed
#    - customer.subscription.updated
#    - customer.subscription.deleted
#    - invoice.payment_succeeded
#    - invoice.payment_failed
# 5. Copia el "Signing secret" (whsec_...)
#
# Testing local con ngrok:
#
# 1. Instala ngrok: https://ngrok.com/download
# 2. Ejecuta: ngrok http 8000
# 3. Copia la URL HTTPS: https://xxxxx.ngrok.io
# 4. Configura webhook en Stripe con: https://xxxxx.ngrok.io/webhooks/stripe
# 5. Copia el webhook secret a STRIPE_WEBHOOK_SECRET
#
